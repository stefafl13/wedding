(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7142],{75422:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[weddingGuid]/settings",function(){return c(63934)}])},45074:function(a,b,c){"use strict";c.r(b),c.d(b,{pushToasts:function(){return g},resetProjectList:function(){return h},getProjects:function(){return i},updateProjectInstant:function(){return j},unfollowProject:function(){return k}});var d=c(25181),e=c(88086),f=c(27832);function g(a,b){a({type:e.I,payload:f.c.errorsForNotifications(f.c.extractErrors(b))})}function h(){return{type:d.wC,payload:null}}function i(a,b){var c=void 0!==b&&b;return function(b){c||b({type:d.wC,payload:null}),f.c.apiCall("POST","".concat("https://planning.wedding","/api/v1/projects"),a,function(a){!0===a.success?b({type:d.wC,payload:a.items}):g(b,a.errors)})}}function j(a){return{type:d.ei,payload:a}}function k(a){return{type:d.$Y,payload:a}}},63934:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSP":function(){return oa},"default":function(){return pa}});var d=c(85893),e=c(67294),f=c(11163),g=c(14890),h=c(66338),i=c(40407),j=c(32743),k=c(59717),l=c(45074),m=c(73572),n=c(30834),o=c(68110),p=c(65732),q=c(2609),r=c(38610),s=c(46900),t=c(20641),u=c(47609),v=c(92322);function w(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function x(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function y(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function z(a){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function A(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){y(a,b,c[b])})}return a}function B(a,b){return(B=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var C=function(a){"use strict";!function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&B(a,b)}(i,a);var b,f,g,h=function(a){var b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}();return function(){var c,d,e,f,g=z(a);if(b){var h=z(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==((c=e)&&"undefined"!=typeof Symbol&&c.constructor===Symbol?"symbol":typeof c)||"function"==typeof e)?e:w(d)}}(i);function i(a){var b;return!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),y(w(b=h.call(this,a)),"handleChangeState",function(a,c){return b.setState(y({},a,c))}),y(w(b),"handleSetActive",function(a,c){return b.setState({active:A({},b.state.active,y({},a,c))})}),y(w(b),"toggleDialog",function(){return b.setState({isOpen:!b.state.isOpen})}),y(w(b),"show",function(){var a={};b.services.forEach(function(b){b.items?b.items.forEach(function(b){a[b.key]=!0}):a[b.key]=!0}),b.services=(0,s.uE)(b.props.wedding.project_type),b.setState({isOpen:!b.state.isOpen,basic:!0,active:a})}),y(w(b),"handleClone",function(){if(!b.state.isLockRequest){b.setState({isLockRequest:!0});var a=function(){var a=b.props.wedding.cloned.guid;r.p.add(b.props.user.profile,b.props.handleUserActions.addProjects,a),b.setState({isLockRequest:!1,isOpen:!1},b.props.handleShowWeddingClonedSuccessfully)},d=function(){b.setState({isLockRequest:!1})},e=t.O.get()||"landing",f=u.a.get(),g="clone",h=v.N.get(),i=A({basic:b.state.basic,vendors:b.state.vendors,services:Object.entries(b.state.active).filter(function(a){return!0===a[1]}).map(function(a){return a[0]}),hostname:c.g.location.hostname,browser_language:c.g.navigator.language||c.g.navigator.userLanguage},e?{ref:e}:{},f?{origin:f}:{},h?{entry:h}:{},{source:g});b.props.handleWeddingActions.cloneWeddingProject(b.props.weddingGuid,i,a,d)}}),y(w(b),"renderInterface",function(){var a=b.state.active,c=b.services.map(function(c,f){if(!c.items)return(0,d.jsxs)(e.Fragment,{children:[0!==f?(0,d.jsx)("hr",{className:"clone__hr"}):null,(0,d.jsx)("ul",{className:"settings__box-ul",children:(0,d.jsx)("li",{children:(0,d.jsxs)("label",{className:"bp3-control bp3-switch",children:[(0,d.jsx)("input",{type:"checkbox",checked:!!a[c.key],onChange:function(a){return b.handleSetActive(c.key,a.target.checked)}}),(0,d.jsx)("span",{className:"bp3-control-indicator"}),c.title]})})})]},f);var g=c.items.map(function(c,e){return(0,d.jsx)("li",{children:(0,d.jsxs)("label",{className:"bp3-control bp3-switch",children:[(0,d.jsx)("input",{type:"checkbox",checked:!!a[c.key],onChange:function(a){return b.handleSetActive(c.key,a.target.checked)}}),(0,d.jsx)("span",{className:"bp3-control-indicator"}),c.title]})},e)});return(0,d.jsxs)(e.Fragment,{children:[(0,d.jsx)("b",{children:c.category}),(0,d.jsx)("ul",{className:"settings__box-ul",children:g})]},f)});return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"clone__icon"}),(0,d.jsx)("br",{}),(0,d.jsx)("h3",{className:"clone__h3",children:b.props.intl("clone_choose")}),(0,d.jsx)("hr",{className:"clone__hr"}),(0,d.jsxs)("ul",{className:"settings__box-ul",children:[(0,d.jsx)("li",{children:(0,d.jsxs)("label",{className:"bp3-control bp3-switch",children:[(0,d.jsx)("input",{type:"checkbox",checked:!!b.state.basic,onChange:function(a){return b.handleChangeState("basic",a.target.checked)}}),(0,d.jsx)("span",{className:"bp3-control-indicator"}),b.props.intl("clone_menu_basic")]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("label",{className:"bp3-control bp3-switch",children:[(0,d.jsx)("input",{type:"checkbox",checked:!!b.state.vendors,onChange:function(a){return b.handleChangeState("vendors",a.target.checked)}}),(0,d.jsx)("span",{className:"bp3-control-indicator"}),b.props.intl("clone_menu_vendors")]})})]}),(0,d.jsx)("hr",{className:"clone__hr"}),c,b.state.isLockRequest?(0,d.jsx)(o.Z,{small:!0}):(0,d.jsx)("button",{className:"bp3-button bp3-intent-purple bp3-fill",onClick:b.handleClone,children:b.props.intl("clone_btn")})]})}),b.services=[],b.state={isLockRequest:!1,isOpen:!1,basic:!0,vendors:!0,active:{}},b}return b=i,f=[{key:"render",value:function(){return this.state.isOpen?(0,d.jsxs)(p.Vq,{isOpen:this.state.isOpen,onClose:this.toggleDialog,className:"clone__dialog-clone",children:[(0,d.jsxs)("div",{className:"bp3-dialog-header",children:[(0,d.jsx)("h4",{className:"bp3-heading",children:this.props.intl("clone_dialog")}),(0,d.jsx)("button",{onClick:this.toggleDialog,className:"bp3-button bp3-minimal bp3-icon-cross"})]}),(0,d.jsx)("div",{className:"bp3-dialog-body bootstrap-wrapper",children:this.renderInterface()})]}):null}}],x(b.prototype,f),g&&x(b,g),i}(e.Component),D=c(71893),E=c.n(D);function F(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function G(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function H(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function I(a){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function J(a,b){return(J=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var K=function(a){"use strict";!function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&J(a,b)}(g,a);var b,c,e,f=function(a){var b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}();return function(){var c,d,e,f,g=I(a);if(b){var h=I(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==((c=e)&&"undefined"!=typeof Symbol&&c.constructor===Symbol?"symbol":typeof c)||"function"==typeof e)?e:F(d)}}(g);function g(a){var b;return!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,g),H(F(b=f.call(this,a)),"handleUnfollowAlert",function(a){new Promise(function(a,c){b.resolveUnfollow=a,b.rejectUnfollow=c,b.setState({isUnfollowAlertOpen:!0})}).then(function(){b.setState({isUnfollowAlertOpen:!1},function(){b.handleUnfollow(a),setTimeout(function(){return b.props.router.replace("/projects")},b.props.user.profile?1000:0)})},function(){b.setState({isUnfollowAlertOpen:!1})})}),H(F(b),"handleDestroyAlert",function(a){new Promise(function(a,c){b.resolveDestroy=a,b.rejectDestroy=c,b.setState({isDestroyAlertOpen:!0})}).then(function(){b.setState({isDestroyAlertOpen:!1},function(){b.handleDestroy(a),setTimeout(function(){return b.props.router.replace("/projects")},b.props.user.profile?1000:0)})},function(){b.setState({isDestroyAlertOpen:!1})})}),H(F(b),"handleUnfollow",function(a){r.p.remove(b.props.user.profile,b.props.handleUserActions.removeProjects,a,function(){b.props.router.replace("/projects")}),b.props.handleProjectsActions.unfollowProject(a),setTimeout(function(){return b.props.handleNotificationActions.pushToasts([{message:E().get("unfollowed_toast",{id:a}).d("…")}])},500)}),H(F(b),"handleDestroy",function(a){if("full"!==b.props.access)return null;r.p.remove(b.props.user.profile,b.props.handleUserActions.removeProjects,a,function(){b.props.router.replace("/projects")}),b.props.handleProjectsActions.unfollowProject(a),b.props.handleWeddingActions.destroy(a),b.props.socket.send({action:"destroy",payload:a})}),H(F(b),"handleActiveDestroyMode",function(a){return b.setState({isDestroyActive:!a.target.checked})}),H(F(b),"handleArchiveAlert",function(a){new Promise(function(a,c){b.resolveArchive=a,b.rejectArchive=c,b.setState({isArchiveAlertOpen:!0})}).then(function(){b.setState({isArchiveAlertOpen:!1},function(){var c={is_archived:!b.props.isArchived};b.props.handleWeddingActions.updateWedding(a,c,null,null,!0),b.props.handleWeddingActions.updateWeddingInstant(c),b.props.socket.send({action:"updateWeddingInstant",payload:c})})},function(){b.setState({isArchiveAlertOpen:!1})})}),H(F(b),"handleShowCloneDialog",function(){b.cloneDialog&&b.cloneDialog.show()}),H(F(b),"handleShowWeddingClonedSuccessfully",function(){return b.setState({isClonedOpen:!0})}),b.state={isDestroyActive:!0,isUnfollowAlertOpen:!1,isDestroyAlertOpen:!1,isArchiveAlertOpen:!1,isClonedOpen:!1},b}return b=g,c=[{key:"render",value:function(){var a=this,b=this.props,c=b.intl,e=b.weddingGuid,f=b.isArchived;return(0,d.jsxs)("div",{className:"settings__box",children:[(0,d.jsx)("h3",{className:"settings__box-h3",children:c("access_h3")}),(0,d.jsxs)("label",{className:"bp3-control bp3-switch",children:[(0,d.jsx)("input",{type:"checkbox",checked:!this.state.isDestroyActive,onChange:this.handleActiveDestroyMode}),(0,d.jsx)("span",{className:"bp3-control-indicator"}),c("access_activate")]}),(0,d.jsx)("hr",{}),"full"===this.props.access&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"wa-p-regular",children:c("access_clone_description")}),(0,d.jsx)("button",{className:"project__clone-btn",disabled:this.state.isDestroyActive,onClick:this.handleShowCloneDialog,style:{width:"100%"},children:c("access_clone_btn")})]}),"full"===this.props.access&&(0,d.jsxs)("div",{children:[(0,d.jsx)("hr",{}),f?(0,d.jsx)("p",{className:"wa-p-regular",children:c("access_archive_description_on")}):(0,d.jsx)("p",{className:"wa-p-regular",children:c("access_archive_description")}),(0,d.jsx)("button",{className:"project__archive-btn",disabled:this.state.isDestroyActive,onClick:function(){return a.handleArchiveAlert(e)},style:{width:"100%"},children:c(f?"access_unarchive_btn":"access_archive_btn")}),(0,d.jsx)("hr",{})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("button",{className:"project__remove-btn",disabled:this.state.isDestroyActive,onClick:function(){return a.handleUnfollowAlert(e)},style:{width:"100%"},children:c("access_unfollow_btn")}),"full"===this.props.access&&(0,d.jsx)("br",{}),"full"===this.props.access&&(0,d.jsx)("button",{className:"project__destroy-btn",disabled:this.state.isDestroyActive,onClick:function(){return a.handleDestroyAlert(e)},style:{width:"100%"},children:c("access_delete_btn")})]}),(0,d.jsx)(C,{intl:c,weddingGuid:e,user:this.props.user,wedding:this.props.wedding,language:this.props.router.locale,handleProjectsActions:this.props.handleProjectsActions,handleUserActions:this.props.handleUserActions,handleWeddingActions:this.props.handleWeddingActions,handleShowWeddingClonedSuccessfully:this.handleShowWeddingClonedSuccessfully,ref:function(b){return a.cloneDialog=b}}),(0,d.jsx)(p.bZ,{intent:q.S.DANGER,isOpen:this.state.isClonedOpen,confirmButtonText:E().get("ok").d("…"),onConfirm:function(){return a.props.router.push("/projects")},children:(0,d.jsx)("p",{children:c("access_clone_alert")})}),(0,d.jsx)(p.bZ,{intent:q.S.DANGER,isOpen:this.state.isUnfollowAlertOpen,confirmButtonText:E().get("yes").d("…"),cancelButtonText:E().get("no").d("…"),onConfirm:this.resolveUnfollow,onCancel:this.rejectUnfollow?this.rejectUnfollow:function(){},children:(0,d.jsx)("p",{children:c("access_unfollow_alert")})}),(0,d.jsx)(p.bZ,{intent:q.S.DANGER,isOpen:this.state.isDestroyAlertOpen,confirmButtonText:E().get("yes").d("…"),cancelButtonText:E().get("no").d("…"),onConfirm:this.resolveDestroy,onCancel:this.rejectDestroy?this.rejectDestroy:function(){},children:(0,d.jsx)("p",{children:c("access_delete_alert")})}),(0,d.jsx)(p.bZ,{intent:q.S.DANGER,isOpen:this.state.isArchiveAlertOpen,confirmButtonText:E().get("yes").d("…"),cancelButtonText:E().get("no").d("…"),onConfirm:this.resolveArchive,onCancel:this.rejectArchive?this.rejectArchive:function(){},children:(0,d.jsx)("p",{children:c(f?"access_unarchive_alert":"access_archive_alert")})})]})}}],G(b.prototype,c),e&&G(b,e),g}(e.Component);function L(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var M=function(a){var b=function(a,b){if("full"!==f)return null;var c=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){L(a,b,c[b])})}return a}({},g.hidden_services);!0===b?delete c[a]:c[a]=!0;var d={hidden_services:c};j.updateWedding(g.guid,d,null,null,!0),j.updateWeddingInstant(d),h.send({action:"updateWeddingInstant",payload:d})},c=a.intl,f=a.access,g=a.wedding,h=a.socket,i=a.router,j=a.handleWeddingActions,k=(0,e.useState)([]),l=k[0],m=k[1];(0,e.useEffect)(function(){m((0,s.md)(g.project_type))},[i.locale,g.project_type]);var n=g.hidden_services,o=l.map(function(a,c){if(!a.items)return(0,d.jsxs)(e.Fragment,{children:[(0,d.jsx)("hr",{}),(0,d.jsx)("ul",{className:"settings__box-ul",children:(0,d.jsx)("li",{children:(0,d.jsxs)("label",{className:"bp3-control bp3-switch",children:[(0,d.jsx)("input",{type:"checkbox",checked:!n[a.key],onChange:function(c){return b(a.key,c.target.checked)}}),(0,d.jsx)("span",{className:"bp3-control-indicator"}),a.title]})})})]},c);var f=a.items.map(function(a,c){return(0,d.jsx)("li",{children:(0,d.jsxs)("label",{className:"bp3-control bp3-switch",children:[(0,d.jsx)("input",{type:"checkbox",checked:!n[a.key],onChange:function(c){return b(a.key,c.target.checked)}}),(0,d.jsx)("span",{className:"bp3-control-indicator"}),a.title]})},c)});return(0,d.jsxs)(e.Fragment,{children:[(0,d.jsx)("b",{children:a.category}),(0,d.jsx)("ul",{className:"settings__box-ul",children:f})]},c)});return(0,d.jsxs)("div",{className:"settings__box",children:[(0,d.jsx)("h3",{className:"settings__box-h3",children:c("visible_h3")}),(0,d.jsx)("p",{className:"wa-p-regular",children:c("visible_p")}),o]})},N=c(12789),O=c(74855),P=c(51523),Q=c(31458),R=function(a){var b=function(){k.pushToasts([{message:f("share_copy_notification"),intent:"warning"}])},c=function(){if(!q){var a=function(){x(""),r(!1),k.pushToasts([{message:f("share_sent_notification"),intent:"warning"}])},b=function(){r(!1)};r(!0),j.shareLink(m,{email:w,link:D,access:t,wedding_guid:m,wli:h.wli},a,b)}},f=a.tApp,g=a.router,h=a.user,i=a.wedding,j=a.handleWeddingActions,k=a.handleNotificationActions,l=g.locale;g.asPath;var m=i.guid,n=i.share,p=(0,e.useState)(!1),q=p[0],r=p[1],s=(0,e.useState)("full"),t=s[0],u=s[1],v=(0,e.useState)(""),w=v[0],x=v[1],y=!!(n&&Array.isArray(n))&&1===n.length;y&&(t="view");var z,A,B=n&&Array.isArray(n)?n.find(function(a){return a.access===t}):null,C=B&&B.qr_code?B.qr_code:null,D=B&&B.url?B.url:"-";return(0,e.useEffect)(function(){j.getShareLinks(m,{basic:(0,N.H)(),locale:l})},[]),(0,d.jsxs)("div",{className:"settings__box",style:{paddingLeft:30,paddingRight:30},children:[(0,d.jsx)("h3",{className:"settings__box-h3",children:f("share_collaboration")}),i&&i.share?(0,d.jsxs)(e.Fragment,{children:[(0,d.jsx)("div",{className:"share__icon"}),(0,d.jsx)("br",{}),(0,d.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,d.jsx)(P.Z,{list:((function(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}})(z=y?[]:[{key:"full",title:f("share_full_access")}])||(function(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)})(z)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()).concat([{key:"view",title:f("share_view_only")}]),value:t,handleChange:u})}),(0,d.jsx)("h3",{className:"share__h3 text-center",children:f("share_project_link")}),(0,d.jsx)("input",{className:"wa-input bp3-fill share__link-input",value:D,onChange:function(){}}),(0,d.jsx)(O.CopyToClipboard,{text:D,onCopy:b,children:(0,d.jsx)("button",{className:"bp3-button bp3-fill bp3-icon-clipboard",style:{marginTop:5},children:f("share_copy_btn")})}),(0,d.jsx)("div",{className:"sign-in__or",children:"//"}),(0,d.jsx)("h3",{className:"share__h3 text-center",children:f("share_by_email")}),(0,d.jsx)("input",{className:"wa-input bp3-fill",placeholder:f("share_email_placeholder"),value:w,onChange:function(a){return x(a.target.value)}}),q?(0,d.jsx)(o.Z,{small:!0}):(0,d.jsx)("button",{className:"bp3-button bp3-fill bp3-icon-envelope",style:{marginTop:5},onClick:c,children:f("share_send_btn")}),C?(A=C,(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"sign-in__or",children:"//"}),(0,d.jsx)("h3",{className:"share__h3 text-center",children:f("share_by_qr")}),(0,d.jsx)(Q.Z,{color:"#A48397",qrCode:A})]})):null]}):(0,d.jsx)(o.Z,{})]})},S=c(53766),T=c(83373),U=c(5582),V=c.n(U),W=c(30071),X=c(65801),Y=(0,e.memo)(function(a){var b=function(a){return c("p_type")+" — "+c(a)},c=a.t,e=a.value,f=a.handleChange,g=[{key:"wedding",title:b("p_type_wedding")},{key:"double_wedding",title:b("p_type_double_wedding")},{key:"girls_night",title:b("p_type_girls_night")},{key:"bachelor_party",title:b("p_type_bachelor_party")},{key:"baby_shower",title:b("p_type_baby_shower")},{key:"anniversary",title:b("p_type_anniversary")},{key:"anniversary_two",title:b("p_type_anniversary_two")},{key:"corporate",title:b("p_type_corporate")},{key:"event",title:b("p_type_event")},],h=g.map(function(a){var b=a.key,c=a.title;return(0,d.jsx)("option",{value:b,children:c},b)});return(0,d.jsx)("div",{className:"bp3-select bp3-fill bp3-minimal",children:(0,d.jsx)("select",{value:e,onChange:function(a){return f(a.target.value)},children:h})})},function(a,b){return b.locale===a.locale&&b.value===a.value}),Z=(0,e.memo)(function(a){var b=a.t,c=a.value,e=a.handleChange;return(0,d.jsx)("div",{className:"bp3-select bp3-fill bp3-minimal",children:(0,d.jsxs)("select",{value:c,onChange:function(a){return e(a.target.value)},children:[(0,d.jsx)("option",{value:"letter",children:b("info_paper_format_letter")}),(0,d.jsx)("option",{value:"a4",children:b("info_paper_format_a4")})]})})},function(a,b){return b.locale===a.locale&&b.value===a.value}),$=(0,e.memo)(function(a){var b=a.t,c=a.value,e=a.handleChange;return(0,d.jsx)("div",{className:"bp3-select bp3-fill bp3-minimal",children:(0,d.jsxs)("select",{value:c,onChange:function(a){return e(a.target.value)},children:[(0,d.jsx)("option",{value:"inch",children:b("info_paper_mesure_inch")}),(0,d.jsx)("option",{value:"cm",children:b("info_paper_mesure_cm")})]})})},function(a,b){return b.locale===a.locale&&b.value===a.value}),_=(0,e.memo)(function(a){var b=a.t,c=a.value,e=a.handleChange;return(0,d.jsx)("div",{className:"bp3-select bp3-fill bp3-minimal",children:(0,d.jsxs)("select",{value:c,onChange:function(a){return e(a.target.value)},children:[(0,d.jsx)("option",{value:"usa",children:b("info_time_format_12")}),(0,d.jsx)("option",{value:"european",children:b("info_time_format_24")})]})})},function(a,b){return b.locale===a.locale&&b.value===a.value}),aa=c(27965),ba=(0,e.memo)(function(a){var b=function(a){var b=aa.n.currencySigns.find(function(b){return b.sign===a});f({currency_sign:a,currency_sign_postfix:!!b&&!!b.postfix})},c=a.t,e=a.value,f=a.handleChange,g=aa.n.currencySigns.map(function(a,b){return(0,d.jsxs)("option",{value:a.sign,children:[c("info_currency")," ",a.title]},b)});return(0,d.jsx)("div",{className:"bp3-select bp3-fill bp3-minimal",children:(0,d.jsx)("select",{value:e,onChange:function(a){return b(a.target.value)},children:g})})},function(a,b){return b.locale===a.locale&&b.value===a.value});function ca(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function da(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function ea(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function fa(a){return(fa=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function ga(a,b){return(ga=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var ha=function(a){"use strict";!function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&ga(a,b)}(h,a);var b,c,f,g=function(a){var b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}();return function(){var c,d,e,f,g=fa(a);if(b){var h=fa(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==((c=e)&&"undefined"!=typeof Symbol&&c.constructor===Symbol?"symbol":typeof c)||"function"==typeof e)?e:ca(d)}}(h);function h(a){var b;return!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,h),ea(ca(b=g.call(this,a)),"handleToggleCalendar",function(a){return b.setState({isShowCalendar:a})}),ea(ca(b),"handleChangeWeddingDate",function(a){b.handleChangeWeddingParam("ceremony_date",X.o.convertToUtcString(a))}),ea(ca(b),"handleChangeWeddingParam",function(a,c){if("full"!==b.props.access)return null;var d=ea({},a,c);b.props.handleWeddingActions.updateWedding(b.props.wedding.guid,d,null,null,!0),b.props.handleWeddingActions.updateWeddingInstant(d),b.props.socket.send({action:"updateWeddingInstant",payload:d})}),ea(ca(b),"handleChangeWeddingParamsBatch",function(a){if("full"!==b.props.access)return null;b.props.handleWeddingActions.updateWedding(b.props.wedding.guid,a,null,null,!0),b.props.handleWeddingActions.updateWeddingInstant(a),b.props.socket.send({action:"updateWeddingInstant",payload:a})}),ea(ca(b),"renderGetPremium",function(){return b.props.wedding.is_premium?(0,d.jsxs)("div",{className:"bp3-callout app__block-recommendation text-left",children:[b.props.tApp("pr_premium")," 🚀"]}):(0,d.jsx)("button",{className:"bp3-button bp3-large bp3-intent-purple bp3-fill",onClick:function(){return document.dispatchEvent(new MouseEvent("premiumDialog"))},children:b.props.tApp("pr_upgrade_btn")})}),ea(ca(b),"renderInterface",function(){var a=b.props,c=a.tSettings,f=a.locale,g=b.state.isShowCalendar,h=b.props.wedding,i=h.project_type,j=h.ceremony_date,k=h.created_at,l=h.updated_at,m=h.title,n=h.is_template,o=h.paper_format,q=h.mesure,r=h.time_format,s=h.currency_sign;return(0,d.jsxs)(e.Fragment,{children:[(0,d.jsx)("lable",{className:"bp3-label",style:{paddingLeft:8},children:c("info_wp_name")}),(0,d.jsx)("input",{className:"wa-input bp3-fill",placeholder:c("info_wp_name_placeholder"),value:m,onChange:function(a){return b.handleChangeWeddingParam("title",a.target.value)}}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)(Y,{t:c,locale:f,value:i,handleChange:function(a){return b.handleChangeWeddingParam("project_type",a)}}),(0,d.jsx)(Z,{t:c,locale:f,value:o,handleChange:function(a){return b.handleChangeWeddingParam("paper_format",a)}}),(0,d.jsx)($,{t:c,locale:f,value:q,handleChange:function(a){return b.handleChangeWeddingParam("mesure",a)}}),(0,d.jsx)(_,{t:c,locale:f,value:r,handleChange:function(a){return b.handleChangeWeddingParam("time_format",a)}}),(0,d.jsx)(ba,{t:c,locale:f,value:s,handleChange:function(a){return b.handleChangeWeddingParamsBatch(a)}}),(0,d.jsxs)("div",{style:{paddingLeft:15,paddingRight:15},children:[(0,d.jsx)("h3",{className:"share__h3",style:{marginBottom:3},children:c("info_event_date")}),(0,d.jsx)("h3",{className:"share__h3",style:{marginBottom:3,paddingTop:0,marginTop:0},children:(0,d.jsxs)(p.J2,{position:S.Ly.BOTTOM,isOpen:g,hasBackdrop:!0,canEscapeKeyClose:!0,onInteraction:function(a){return!1===a&& !0===g?b.handleToggleCalendar(!g):null},children:[(0,d.jsx)("span",{className:"psedo-link",onClick:function(){return b.handleToggleCalendar(!g)},children:(0,d.jsx)("b",{children:j?V()(j).utc().format("dddd DD MMM YYYY"):c("info_date_unset")})}),(0,d.jsx)(T.M,{value:j?X.o.removeTimeZone(j):new Date(),onChange:b.handleChangeWeddingDate,maxDate:b.maxDate,minDate:b.minDate,locale:f,localeUtils:W.default,canClearSelection:!1})]})}),(0,d.jsxs)("h3",{className:"share__h3",style:{marginBottom:3,paddingTop:5},children:[c("info_created_on")," ",V()(k).utc().format("DD MMM YYYY")]}),(0,d.jsxs)("h3",{className:"share__h3",style:{marginBottom:3,paddingTop:5,marginTop:5},children:[c("info_last_updated")," ",V()(l).utc().format("DD MMM YYYY hh:mm a")]}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsxs)("label",{className:"bp3-control bp3-switch",children:[(0,d.jsx)("input",{type:"checkbox",checked:!!n,onChange:function(a){return b.handleChangeWeddingParam("is_template",a.target.checked)}}),(0,d.jsx)("span",{className:"bp3-control-indicator"}),c("info_as_template")]}),(0,d.jsx)("br",{}),b.props.user.wli?null:b.renderGetPremium()]})]})}),b.state={isShowCalendar:!1},b.minDate=new Date(new Date().setFullYear(new Date().getFullYear()-3)),b.maxDate=new Date(new Date().setFullYear(new Date().getFullYear()+3)),b}return b=h,c=[{key:"render",value:function(){return(0,d.jsxs)("div",{className:"settings__box",style:{paddingLeft:30,paddingRight:30},children:[(0,d.jsx)("h3",{className:"settings__box-h3",children:this.props.tSettings("info_h3")}),this.props.wedding?this.renderInterface():(0,d.jsx)(o.Z,{})]})}}],da(b.prototype,c),f&&da(b,f),h}(e.Component),ia=c(35196),ja=c(66912),ka=c(40826),la=c(91620),ma=ja.S.extract("project/settings").t,na=ja.S.extract("templates/app").t,oa=!0,pa=(0,h.$j)(function(a){return{user:a.user,language:a.language,wedding:a.wedding,projects:a.projects}},function(a){return{userActions:(0,g.DE)(i,a),weddingActions:(0,g.DE)(k,a),projectsActions:(0,g.DE)(l,a),notificationActions:(0,g.DE)(j,a)}})(function(a){var b=(0,f.useRouter)(),c=b.locale,g=b.query.weddingGuid,h=(0,e.useRef)(null);c!==h.current&&(ja.S.load(c,a.dict),h.current=c);var i,j=(0,e.useRef)(),k=(j&&j.current?j.current:{}).socket,l=a.user,p=a.language,q=a.wedding,r=a.projects,s=a.userActions,t=a.weddingActions,u=a.projectsActions,v=a.notificationActions;return(0,d.jsxs)(m.Z,{ref:j,children:[(i=(0,ia.R)("/project/".concat(g,"/settings"),c),(0,d.jsx)(n.Z,{router:b,title:ma("h2"),description:ma("p"),alternate:"all",disableIndexing:"none",canonical:i,schemaLogo:JSON.stringify([la.c.generate(c)])})),(0,d.jsxs)("main",{className:"settings",children:[(0,d.jsx)("h1",{className:"wa-h2",children:ma("h2")}),(0,d.jsx)("div",{className:"wa-p text-center",children:ma("p")}),q._id?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),(0,d.jsxs)("div",{className:"settings__container",children:[(0,d.jsx)(R,{tApp:na,router:b,user:l,wedding:q,handleWeddingActions:t,handleNotificationActions:v}),(0,d.jsx)(ha,{tApp:na,tSettings:ma,locale:c,user:l,access:q.access,socket:k,weddingGuid:q.guid,wedding:q,handleWeddingActions:t})]}),ka.e.isAllowCreateWeddingProject(l)?(0,d.jsxs)("div",{className:"settings__container",children:["full"===q.access&&(0,d.jsx)(M,{intl:ma,access:q.access,socket:k,wedding:q,router:b,handleWeddingActions:t}),(0,d.jsx)(K,{intl:ma,access:q.access,socket:k,user:l,weddingGuid:q.guid,router:b,language:p,isArchived:q.is_archived,wedding:q,handleUserActions:s,handleWeddingActions:t,handleProjectsActions:u,handleNotificationActions:v})]}):null]}):(0,d.jsx)(o.Z,{})]})]})})},27965:function(a,b,c){"use strict";c.d(b,{n:function(){return f}});var d,e=["Fira Sans","Ballet","Dancing Script","Economica","Italianno","Marvel","Mr Bedfort","Nixie One","Open Sans","Overlock","Poiret One","Sansita Swashed","Sansita","Shadows Into Light Two","Spirax",],f={currencySigns:[{sign:"₳",title:"₳ — Austral"},{sign:"Lek",title:"Lek — Albanian lek",postfix:!0},{sign:"৳",title:"৳ — Bengali Rupee"},{sign:"৲",title:"৲ — Bengali Rupee Mark"},{sign:"₿",title:"₿ — Bitcoin"},{sign:"₵",title:"₵ — Cedi"},{sign:"₡",title:"₡ — Colon"},{sign:"C$",title:"Col$ — Colombian Peso"},{sign:"₢",title:"₢ — Cruzeiro"},{sign:"Kč",title:"Kč — Czech Koruna",postfix:!0},{sign:"kr.",title:"kr. — Danish Krone",postfix:!0},{sign:"$",title:"$ — Dollar"},{sign:"₫",title:"₫ — Dong",postfix:!0},{sign:"₯",title:"₯ — Drachma",postfix:!0},{sign:"€",title:"€ — Euro"},{sign:"₠",title:"₠ — Euro-Currency"},{sign:"Ft",title:"Ft — Hungarian Forint",postfix:!0},{sign:"₣",title:"₣ — French Franc"},{sign:"₰",title:"₰ — German Penny Symbol"},{sign:"₲",title:"₲ — Guarani"},{sign:"૱",title:"૱ — Gujarati Rupee"},{sign:"₴",title:"₴ — Hryvnia"},{sign:"₹",title:"₹ — Indian Rupee"},{sign:"៛",title:"៛ — Khmer Currency Symbol Riel"},{sign:"₭",title:"₭ — Kip"},{sign:"₾",title:"₾ — Lari"},{sign:"₤",title:"₤ — Lira"},{sign:"₶",title:"₶ — Livre Tournois"},{sign:"RM",title:"RM — Malaysian Ringgit"},{sign:"₼",title:"₼ — Manat"},{sign:"₥",title:"₥ — Mill"},{sign:"₦",title:"₦ — Naira"},{sign:"₪",title:"₪ — New Sheqel"},{sign:"₻",title:"₻ — Nordic Mark"},{sign:"S/",title:"S/ — Peruvian sol"},{sign:"₧",title:"₧ — Peseta",postfix:!0},{sign:"₱",title:"₱ — Peso"},{sign:"\xa3",title:"\xa3 — Pound"},{sign:"﷼",title:"﷼ — Rial Sign",postfix:!0},{sign:"lei",title:"lei — Romanian leu",postfix:!0},{sign:"₽",title:"₽ — Ruble",postfix:!0},{sign:"₨",title:"₨ — Rupee"},{sign:"kr",title:"kr — Swedish Krona",postfix:!0},{sign:"Sk",title:"Sk — Slovak Krona",postfix:!0},{sign:"R",title:"R — South African Rand"},{sign:"₷",title:"₷ — Spesmilo"},{sign:"㍐",title:"㍐ — Square Yuan"},{sign:"රු",title:"රු — Sri Lankan Rupee"},{sign:"Fr.",title:"Fr. — Swiss Franc",postfix:!0},{sign:"௹",title:"௹ — Tamil Rupee"},{sign:"₸",title:"₸ — Tenge",postfix:!0},{sign:"฿",title:"฿ — Thai Currency Symbol Baht"},{sign:"₮",title:"₮ — Tugrik",postfix:!0},{sign:"₺",title:"₺ — Turkish Lira"},{sign:"CFA",title:"CFA — West African CFA franc",postfix:!0},{sign:"MZN",title:"MZN — Metical",postfix:!0},{sign:"Q",title:"GTQ — Guatemalan quetzal"},{sign:"₩",title:"₩ — Won"},{sign:"원",title:"원 — Won Character"},{sign:"\xa5",title:"\xa5 — Yen"},{sign:"円",title:"円 — Yen Character"},{sign:"圆",title:"圆 — Yen/Yuan Character Variant One"},{sign:"圜",title:"圜 — Yen/Yuan Character Variant Three"},{sign:"圎",title:"圎 — Yen/Yuan Character Variant Two"},{sign:"元",title:"元 — Yuan Character, In China"},{sign:"圓",title:"圓 — Yuan Character, In Hong Kong And Taiwan"}],fontsGoogle:e,fonts:((function(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}})(d=e)||(function(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)})(d)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()).concat(["Xarrovv"])}},47609:function(a,b,c){"use strict";c.d(b,{a:function(){return f}});var d=c(58971),e=c.n(d),f={get:function(){var a=e().get("origin");return a&&a.value&&a.date&&new Date().getTime()-a.date<51840e5?a.value:null},set:function(a){return a&&a.email&&delete a.email,e().set("origin",{value:a,date:new Date().getTime()}),a},setup:function(a){"object"==typeof a&&Object.keys(a).length>0&&(f.get()||f.set(a))}}},20641:function(a,b,c){"use strict";c.d(b,{O:function(){return f}});var d=c(58971),e=c.n(d),f={get:function(){var a=e().get("referrer");return a&&a.value&&a.date&&new Date().getTime()-a.date<51840e5?a.value:null},set:function(a){return e().set("referrer",{value:a,date:new Date().getTime()}),a}}}},function(a){a.O(0,[4885,4317,4116,5732,4734,6441,5162,3458,5506,3524,7868,7811,6120,3894,8262,1837,8470,6179,5083,42,1385,9774,2888,179],function(){return a(a.s=75422)}),_N_E=a.O()}])